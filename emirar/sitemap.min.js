!function(e,t){'use strict';var a,n=Object.assign||function(e,t){var a=arguments;if(null==e)throw new TypeError('Cannot convert undefined or null to object');var n=Object(e),l=arguments.length;for(index=1;index<l;index++){var i=a[index];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n};e.Sitemap=function(l){var i,s,r,o={url:window.location.href,containerId:'sitemap',showNew:6,newText:'New',maxResults:9999,sortAlphabetically:{panel:!1,list:!1},activePanel:0,slideSpeed:{down:300,up:200},clickCallback:function(){},jsonCallback:'sitemap',delay:0},c=n({},a||o,l),d=t.getElementById(c.containerId),p=t.head||t.getElementsByTagName('head')[0],h=[];e[c.jsonCallback]=function(e){for(var t,a,n=e.feed.entry,l=e.feed.category,o='',p=0;l.length>p;++p)h.push(l[p].term);for(var w=0;n.length>w;++w)(c.showNew||c.showNew>0)&&w<c.showNew+1&&(n[w].title.$t+=' %new%');for(n=c.sortAlphabetically.list?n.sort(function(e,t){return e.title.$t.localeCompare(t.title.$t)}):n,c.sortAlphabetically.panel&&h.sort(),i=0;h.length>i;++i){for(o+='<h3 class="sitemap-panel">'+h[i]+'</h3>',o+='<div class="sitemap-list"><ol>',s=0;n.length>s;++s){for(t=n[s].title.$t,r=0;n[s].link.length>r;++r)if('alternate'==n[s].link[r].rel){a=n[s].link[r].href;break}for(r=0;n[s].category.length>r;++r)h[i]==n[s].category[r].term&&(o+='<li><a href="'+a+'">'+t.replace(/ \%new\%$/,'')+'</a>'+(t.match(/\%new\%/)?' <span class="sitemap-new">'+c.newText+'</span>':'')+'</li>')}o+='</ol></div>'}d.innerHTML=o,'undefined'!=typeof jQuery&&$('#'+c.containerId+' .sitemap-list').hide()&&$('#'+c.containerId+' .sitemap-panel').click(function(){$(this).hasClass('active')||(c.clickCallback(this),$('#'+c.containerId+' .sitemap-panel').removeClass('active').next().slideUp(c.slideSpeed.up),$(this).addClass('active').next().slideDown(c.slideSpeed.down))}).eq(c.activePanel-1).addClass('active').next().slideDown(c.slideSpeed.down)};var w=t.createElement('script');w.async=!0,w.src=c.url.replace(/\/$/,'')+'/feeds/posts/summary?alt=json-in-script&max-results='+c.maxResults+'&callback='+c.jsonCallback,e.setTimeout(function(){p.appendChild(w)},+c.delay)}}(window,window.document);